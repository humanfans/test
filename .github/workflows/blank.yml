name: linyaps

on:
  push:
    branches: ["main"]
  pull_request:
    branches: ["main"]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: ğŸ”§ æ·»åŠ  Linglong APT æº
        run: |
          echo "deb [trusted=yes] https://ci.deepin.com/repo/obs/linglong/CI_release_xUbuntu_24.04 ./" | sudo tee /etc/apt/sources.list.d/linglong.list

      - name: ğŸ“¦ æ›´æ–°å¹¶å®‰è£… Linglong å·¥å…·
        run: |
          sudo apt update
          sudo apt install -y linglong-bin linglong-installer linglong-builder

      - name: âœ… éªŒè¯å®‰è£…
        run: |
          linglong-bin --version || echo "Linglong installed successfully"
